@(query: String, users: models.TwitterUserPage)

@main {
    
    <h1 id="query">Query: "<span style="color: #555555" id="query">@query</span>", results in @users.totalSize() twitter users</h1>

    @if(flash.containsKey("success")) {
        <div class="alert-message warning">
            <strong>Done!</strong> @flash.get("success")
        </div>
    } 
    
    <div id="twitter-actions" class="actions">
        <form action="@routes.Application.users()" method="GET">
        	<span class="dropdown">
                <a href="#" class="dropdown-toggle btn" data-toggle="dropdown">Pre&nbsp;<b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="#" class="pre-query-btn" query="friends: mscheidgen">Friends</a></li>
                  <li><a href="#" class="pre-query-btn" query="followers: mscheidgen">Follower</a></li>
                  <li><a href="#" class="pre-query-btn" query="isFriend AND NOT isFollower">Friends not following</a></li>          
                  <li><a href="#" class="pre-query-btn" query="friendsCount>followersCount">More friends than follower</a></li>
                  <li><a href="#" class="pre-query-btn" query="friendsCount>followersCount AND NOT (isFriend OR isFollower) ">More friends than follower and not acquainted</a></li>                         
                </ul>
            </span>
        	<input type="text" name="query" class="query" id="twitter-actions-query" value="@query">
        	<input type="hidden" name="cursor" value="-1">
            <input type="submit" id="execute" value="Execute" class="btn">
            <a class="btn simple-ajax-action" url="@routes.Application.importAll(query)">Update/import all</a>
        </form>
    </div>
    
    @if(users.size() == 0) {  
        <div class="well">
            <em>Nothing to display</em>
        </div>
    } else {
        <table class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th class="header">Twitter's data</th>
                    <th class="header">Our Twitter data</th>
                    <th class="header">Our client data</th>
                </tr>
            </thead>
            <tbody id="twitter-user-holders">
            	@userPage(query, users)                
            </tbody>
        </table>        
    }
        
}

            
