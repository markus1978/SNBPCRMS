@(query: String, users: models.PagedUserHolderList)

@main {
    
    <h1 id="homeTitle">Query: "<span style="color: #555555" id="query">@query</span>", results in @users.totalSize() twitter users</h1>

    @if(flash.containsKey("success")) {
        <div class="alert-message warning">
            <strong>Done!</strong> @flash.get("success")
        </div>
    } 
    
    <div id="actions">
        
        <form action="@routes.Application.users()" method="GET">
        	<input type="text" name="query" value="@query">
        	<input type="hidden" name="cursor" value="-1">
            <input type="submit" id="execute" value="Execute" class="btn primary">
        </form>
   
   		<input type="button" id="importAll" value="Import/Update all" class="btn success">
    </div>
    
    @if(users.size() == 0) {  
        <div class="well">
            <em>Nothing to display</em>
        </div>
    } else {
        <table class="computers zebra-striped">
            <thead>
                <tr>
                    <th class="header">Twitter's data</th>
                    <th class="header">Our Twitter data</th>
                    <th class="header">global data</th>
                </tr>
            </thead>
            <tbody>
                @for(userModel <- users) {
                    <tr>
                    	@{
                    		val form = Form.form(classOf[TwitterUser]).fill(userModel.getTwitterUser());
                    		user(userModel, form)                    	
                    	}                                                	                                  
                    </tr>
                }

            </tbody>
        </table>

        <div id="pagination" class="pagination">
            <ul>
                @if(users.hasPrev()) {
                    <li class="prev">
                        <a href="@routes.Application.users(query, users.getPrevCursor())">&larr; Previous</a>
                    </li>
                } else {
                    <li class="prev disabled">
                        <a>&larr; Previous</a>
                    </li>
                }
                <li class="current">
                    <a>not available</a>
                </li>
                @if(users.hasNext()) {
                    <li class="next">
                        <a href="@routes.Application.users(query, users.getNextCursor())">Next &rarr;</a>
                    </li>
                } else {
                    <li class="next disabled">
                        <a>Next &rarr;</a>
                    </li>
                }
            </ul>
        </div>
        
    }
        
}

            
